---
_id: 8e701f9e-d632-4a16-a72b-b48ecb314c3f
date: '2024-10-11'
last_modified: '2025-01-16'
title: '[ì½”ë“œíŠ¸ë¦¬] ê³ ëŒ€ ë¬¸ëª… ìœ ì  íƒì‚¬'
url: https://velog.io/@hso07202/ì½”ë“œíŠ¸ë¦¬-ê³ ëŒ€-ë¬¸ëª…-ìœ ì -íƒì‚¬
---

[[ì½”ë“œíŠ¸ë¦¬] ê³ ëŒ€ ë¬¸ëª… ìœ ì  íƒì‚¬](https://www.codetree.ai/training-field/frequent-problems/problems/ancient-ruin-exploration?&utm_source=clipboard&utm_medium=text)

![](https://velog.velcdn.com/images/hso07202/post/ba35ae3a-0d04-4af6-aa96-2b704273ea6d/image.png)

ì˜¤ëŠ˜ë„ í•œ ë¬¸ì œ í’€ê³  ì§€ì³ì„œ ìì†Œì„œë§Œ ì¼ë‹¤...
ê·¸ë˜ë„ ì–´ì œë§Œí¼ì€ ì•ˆ ê±¸ë¦¼. í•˜ë‚˜ ë” í’€ê³  ìì•¼ì§€(ì—¥ ê³¼ì—° ì˜ ìˆ˜ ìˆë‚˜?)

### ğŸ’¡ ë‚´ ì½”ë“œ
```python
from collections import deque
K, M = map(int, input().split())
mapList = [list(map(int, input().split())) for i in range(5)]
numList = deque(list(map(int, input().split())))
answer = []

def rotate(sy, sx, d):
    board = [x[:] for x in mapList]

    for _ in range(d+1):
        tmp = board[sy + 0][sx + 2]
        board[sy + 0][sx + 2] = board[sy + 0][sx + 0]
        board[sy + 0][sx + 0] = board[sy + 2][sx + 0]
        board[sy + 2][sx + 0] = board[sy + 2][sx + 2]
        board[sy + 2][sx + 2] = tmp
        tmp = board[sy + 1][sx + 2]
        board[sy + 1][sx + 2] = board[sy + 0][sx + 1]
        board[sy + 0][sx + 1] = board[sy + 1][sx + 0]
        board[sy + 1][sx + 0] = board[sy + 2][sx + 1]
        board[sy + 2][sx + 1] = tmp

    return board

def inRange(x, y):
        return (0 <= x < 5) and (0<= y < 5)

def getCnt(arr, clear):
    visited = [[False]*5 for _ in range(5)]
    score = 0
    pos = [(0, 1), (0, -1), (1, 0), (-1, 0)]  

    for i in range(5):
        for j in range(5):
            if(not visited[i][j]):
                q, trace = deque([(i, j)]), deque([(i, j)])
                visited[i][j] = True

                while q:
                    x, y = q.popleft()
                    for k in range(4):
                        nx = x+pos[k][0]
                        ny = y+pos[k][1]
                        if(inRange(nx, ny) and not visited[nx][ny] and arr[x][y] == arr[nx][ny]):
                            q.append((nx, ny))
                            trace.append((nx, ny))
                            visited[nx][ny] = True

                if(len(trace) >= 3):
                    score += len(trace)
                    if(clear):
                        while trace:
                            t = trace.popleft()
                            arr[t[0]][t[1]] = 0
                        
    return score

def fillList():
    for c in range(5):
        for r in range(4, -1, -1):
            if(mapList[r][c] == 0):
                mapList[r][c] = numList.popleft()
                numList.append(mapList[r][c])

for i in range(K):
    maxCnt = 0
    tmpList = None
    for deg in range(3): # 90, 180, 270
        for c in range(3):
            for r in range(3):
                rotated = rotate(r, c, deg) # íšŒì „
                cnt = getCnt(rotated, False) # ìœ ë¬¼ ìˆ˜
                if(maxCnt < cnt): # ìµœëŒ€ê°’ ë¹„êµ
                    maxCnt = cnt
                    tmpList = rotated

    if maxCnt == 0:
        break

    # ìµœëŒ€ê°’ ë°°ì—´ë¡œ ìœ ë¬¼ íšë“, ì—°ì‡„ íšë“
    cnt = 0
    mapList = tmpList
    while(True):
        tmp = getCnt(mapList, True)
        if(tmp == 0):
            break
        cnt += tmp

        fillList()
    
    answer.append(cnt)

print(" ".join(list(map(str, answer))))
```

ğŸ“•ì—¬ê¸°ì„œë„ ì²˜ìŒì— ì˜ëª» ìƒê°í–ˆë˜ ë¶€ë¶„ë“¤
1. í•œ ë²ˆ ëŒë¦´ ë•Œë§ˆë‹¤ 90ë„ ëŒë ¤ì•¼ í•˜ëŠ”ë° í•œ ì¹¸ì”© ë¯¸ëŠ” ê±¸ë¡œ ì°©ê°(ë°”ë³´ì˜€ë‹¤.)
  -> ê·¸ë˜ì„œ 1, 2, 3ë²ˆ ëŒë¦¬ë©´ 90, 180, 270ë„ ëŒë ¸ë‹¤ê³  ì°©ê°í–ˆëŠ”ë° ë‹¹ì—° ì˜¤ë¥˜ë‚¨
2. ìµœëŒ€ ê°€ì¹˜, ê°ë„ OK.. í•˜ì§€ë§Œ ì—´ì´ ì‘ì€ê²Œ ë¨¼ì €ì˜€ìŒ
-> (3) íšŒì „ ì¤‘ì‹¬ ì¢Œí‘œì˜ ì—´ì´ ê°€ì¥ ì‘ì€ êµ¬ê°„ì„, ê·¸ë¦¬ê³  ì—´ì´ ê°™ë‹¤ë©´ í–‰ì´ ê°€ì¥ ì‘ì€ êµ¬ê°„ì„ ì„ íƒâ­
3. ìµœëŒ€ê°’ ë¹„êµí•˜ê³  ì ¤ ìµœëŒ€ë©´ ë¦¬ìŠ¤íŠ¸ ë³€ê²½í•´ì¤¬ëŠ”ë° ì´ê±¸ tmpë¡œ ë‘ì§€ ì•Šê³  mapListë¡œ ì•„ì˜ˆ ë„£ì–´ë²„ë¦¼..ë‹¹ì—° ë‹µì´ ë‚˜ì˜¬ë¦¬ê°€ ì—†ìŒ 
-> í™•ì •ë  ë•Œê¹Œì§€ ì´ˆê¸° mapListë¥¼ ê³„ì† ëŒë ¤ì•¼í•˜ê¸° ë•Œë¬¸

ì–¼ë ëš±ë•… í†µê³¼ ì™„ë£Œ...ğŸ¤¯ğŸ”¥