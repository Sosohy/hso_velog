---
date: '2024-10-11'
last_modified: '2024-11-26'
link: https://velog.io/@hso07202/%EC%BD%94%EB%93%9C%ED%8A%B8%EB%A6%AC-%EB%A3%A8%EB%8F%8C%ED%94%84%EC%9D%98-%EB%B0%98%EB%9E%80
tags:
- ì½”ë“œíŠ¸ë¦¬
- ì½”ë”©í…ŒìŠ¤íŠ¸
---

[[ì½”ë“œíŠ¸ë¦¬] ë£¨ëŒí”„ì˜ ë°˜ë€](https://www.codetree.ai/training-field/frequent-problems/problems/rudolph-rebellion?&utm_source=clipboard&utm_medium=text)

![](https://velog.velcdn.com/images/hso07202/post/857fbbc1-b2d6-4cfb-b0e2-44c7db42fcad/image.png)

ë¬¸ì œëŠ” ê·€ì—¬ìš°ë‚˜...ì½”ë“œëŠ” ì „í˜€ ê·€ì—½ì§€ ì•Šì€...ğŸ…

### ğŸ’¡ ë‚´ ì½”ë“œ
    
    
    N, M, P, C, D = map(int, input().split())
    
    mapList = [[-1]*(N+1) for _ in range(N+1)]
    rudolph = tuple(map(int, input().split()))
    santa = {}
    isAlive = [0]*(P+1)
    score = [0]*(P+1)
    pos = [(-1, 0), (0, 1), (1, 0), (0, -1)]
    
    mapList[rudolph[0]][rudolph[1]] = 0
    for i in range(P):
        idx, r, c = map(int, input().split())
        santa[idx] = (r, c)
        mapList[r][c] = idx
    
    def inRange(y, x):
        return (1 <= y < N+1) and (1 <= x < N+1)
    
    def calDist(d1, d2):
        return (d1[0]-d2[0])**2 + (d1[1]-d2[1])**2
    
    def findRudolph(idx):
        s = santa[idx]
    
        minDist = calDist(s, rudolph)
        minPos = (s[0], s[1])
        minIdx = -1
    
        for j in range(4):
            ny, nx = s[0]+pos[j][0], s[1]+pos[j][1]
            dist = calDist((ny, nx), rudolph)
    
            if(inRange(ny, nx) and mapList[ny][nx] < 1 and dist < minDist):
                minDist = dist
                minPos = (ny, nx)
                minIdx = j
    
        mapList[santa[idx][0]][santa[idx][1]] = -1
        santa[idx] = minPos
    
        # ì¶©ëŒ í™•ì¸
        if(mapList[santa[idx][0]][santa[idx][1]] == 0):
            score[idx] += D
    
            # Dì¹¸ ë°˜ëŒ€ë¡œ ë°€ë ¤ë‚˜ê¸°
            sy, sx = santa[idx][0] + -pos[minIdx][0]*D, santa[idx][1] + -pos[minIdx][1]*D
            santa[idx] = (sy, sx)
            isAlive[idx] = 2
    
            # ìƒí˜¸ì‘ìš©
            while(True):
                if(not inRange(sy, sx)):
                    isAlive[idx] = -1
                    break
    
                if(mapList[sy][sx] < 0):
                    mapList[sy][sx] = idx
                    break
                else:
                    tmp = mapList[sy][sx]
                    mapList[sy][sx] = idx
                    idx = tmp
                    sy += -pos[minIdx][0]
                    sx += -pos[minIdx][1]
                    santa[idx] = (sy, sx)
        else:
            mapList[santa[idx][0]][santa[idx][1]] = idx
    
    def findNearSanta(y, x):
        global rudolph
        minDist = None
        minPos = None
    
        # ê°€ê¹Œìš´ ì‚°íƒ€ ì°¾ê¸°
        for r in range(1, N+1):
            for c in range(1, N+1):
                if(mapList[r][c] > 0 and isAlive[mapList[r][c]] >= 0):
                    dist = calDist((y, x), (r, c))
                    if(not minDist or minDist >= dist):
                        minDist = dist
                        minPos = (r, c)
    
        ny, nx = 0, 0
        if(not minPos):
            return False
        else: # ì°¾ì€ ì‚°íƒ€ë¡œ ë£¨ëŒí”„ ë°©í–¥ ì°¾ê¸°
            if(minPos[0] > y):
                ny += 1
            elif(minPos[0] < y):
                ny -= 1
    
            if(minPos[1] > x):
                nx += 1
            elif(minPos[1] < x):
                nx -= 1
    
            mapList[y][x] = -1
            rudolph = (y+ny, x+nx)
    
        # ì¶©ëŒ í™•ì¸
        if(mapList[rudolph[0]][rudolph[1]] > 0):
            idx = mapList[rudolph[0]][rudolph[1]]
            score[idx] += C
            mapList[rudolph[0]][rudolph[1]] = 0
    
            # Cì¹¸ ë°€ë ¤ë‚˜ê¸°
            sy, sx = santa[idx][0] + ny*C, santa[idx][1] + nx*C
            santa[idx] = (sy, sx)
            isAlive[idx] = 2
    
            # ìƒí˜¸ì‘ìš©
            while(True):
                if(not inRange(sy, sx)):
                    isAlive[idx] = -1
                    break
    
                if(mapList[sy][sx] < 0):
                    mapList[sy][sx] = idx
                    break
                else:
                    tmp = mapList[sy][sx]
                    mapList[sy][sx] = idx
                    idx = tmp
                    sy += ny
                    sx += nx
                    santa[idx] = (sy, sx)
        else:
            mapList[rudolph[0]][rudolph[1]] = 0
    
    
    for m in range(M):
    
        # ë£¨ëŒí”„ í„´
        # ê°€ì¥ ê°€ê¹Œìš´ ì‚°íƒ€ ì°¾ê¸°, ì¶©ëŒ ì²´í¬
        findNearSanta(rudolph[0], rudolph[1])
    
        # ì‚°íƒ€ í„´
        for i in range(1, P+1):
            if(isAlive[i] == 0): # ê²Œì„ ê°€ëŠ¥í•œ ì‚°íƒ€
                findRudolph(i) # ë£¨ëŒí”„ ìª½ìœ¼ë¡œ ì´ë™, ì¶©ëŒ ì²´í¬
    
        for i in range(1, P+1): # 1ì  ì¶”ê°€ ë¶€ì—¬
            if(isAlive[i] >= 0):
                score[i] += 1
            if(isAlive[i] > 0): # ê¸°ì ˆí•œ ê²½ìš° í„´ --
                isAlive[i] -= 1
    
    sc = " ".join(map(str, score[1:]))
    print(sc)

ğŸ“• í—¤ë§¸ë˜ ë¶€ë¶„

  1. ë£¨ëŒí”„ìª½ì—ì„œ ì¶©ëŒí–ˆì„ ë•Œë„ isAliveì— 1ì„ í• ë‹¹í–ˆë”ë‹ˆ ê·¸ ë°‘ì— ì‚°íƒ€ í„´ì„ ëŒ ë•Œ ê°’ì´ ê°ì†Œí•´ì„œ í„´ì„ í•œ ë²ˆ ë” ë„ëŠ” ê²½ìš°ê°€ ìˆì—ˆë‹¤..!



-> ê·¸ë˜ì„œ ê·¸ëƒ¥ 2ë¡œ í• ë‹¹í•˜ê³  ì•„ì˜ˆ ë£¨ëŒí”„, ì‚°íƒ€ í„´ì„ ë‹¤ ëŒê³  ì²˜ë¦¬í•¨. ê·¼ë° ìƒê°í•´ë³´ë‹ˆ ë£¨ëŒí”„ í„´ì¼ ë•ŒëŠ” 2ë¡œ ì£¼ê³  ê·¸ëŒ€ë¡œ í•´ë„ ëì„ë“¯ 2\. ë°€ë ¤ë‚˜ê¸° í•  ë•Œ ì²˜ìŒ ì°©ì§€í•˜ëŠ” ì‚°íƒ€ë§ê³ ë„ ë‹¤ë¥¸ ì‚°íƒ€posë¥¼ ì—…ë°ì´íŠ¸ í•´ì¤˜ì•¼ í–ˆëŠ”ë° ëƒ…ë‹¤ ë§µê°’ë§Œ ì—…ë°ì´íŠ¸ í•˜ê³  ìˆì—ˆë‹¤ã…ã… 3\. global rudolph ì´ê±° ì²˜ìŒì— global ê¹Œë¨¹ê³  ìˆë‹¤ê°€ ê°’ì´ ì™œ ì•ˆë°”ë€ŒëŠ”ê±°ì•¼ ì´ëŸ¬ê³  ìˆì—ˆìŒ

++ ì¶”ê°€ë¡œ ì¶©ëŒ ì²˜ë¦¬ ë¶€ë¶„ í•˜ë‚˜ë¡œ ë¬¶ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ì€ë° ë‹¤ì‹œ í•´ë´ì•¼ê² ìŒ

ì•„.. í•˜ë©´ ë˜ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì€ë° ìê¾¸ í—¤ë§¤ëŠë¼ê³  ì‹œê°„ì´ ì€ê·¼ ì˜¤ë˜ ê±¸ë¦°ë‹¤. ê·¼ë° ë˜ ë§‰ìƒ ì½”ë“œ ë‹¤ ì§œê³  ë³´ë©´ ê·¸ë ‡ê²Œ ì–´ë ¤ìš´ ê±´ ì•„ë‹Œ..ğŸ« ğŸ« ğŸ« 